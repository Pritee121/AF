{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ artist.first_name }} {{ artist.last_name }} - Profile</title>
    <link rel="stylesheet" href="{% static 'css/explore_artist2.css' %}">
    <style>
        /* üåô Dark Mode Styles */
body.dark-mode {
    background-color: #121212;
    color: #ffffff;
}

/* ‚úÖ Update other elements for dark mode */
.dark-mode .header,
.dark-mode .navbar {
    background-color: #222;
}

.dark-mode .nav-link {
    color: white;
}

.dark-mode .search-form {
    background: #333;
    box-shadow: 0px 4px 6px rgba(255, 255, 255, 0.1);
}

.dark-mode input,
.dark-mode textarea,
.dark-mode select {
    background-color: #222;
    color: white;
    border: 1px solid #555;
}

.dark-mode .book-btn {
    background-color: #D8648C;
    color: white;
}

.dark-mode .book-btn:hover {
    background-color: #b24d70;
}

.dark-mode .artist-container {
    background-color: #1a1a1a;
}

/* ‚úÖ Toggle Switch */
#dark-mode-toggle {
    position: fixed;
    top: 10px;
    right: 20px;
    background: #222;
    color: white;
    border: none;
    padding: 10px 15px;
    cursor: pointer;
    border-radius: 5px;
}

.dark-mode #dark-mode-toggle {
    background: #f8f9fa;
    color: #222;
}

    </style>
</head>
<body>
    <header>
        <a href="{% url 'home' %}">‚Üê Home</a>
    </header>

    <div class="artist-container">
        <!-- ‚úÖ Artist Information Section -->
        <div class="artist-profile">
            {% if artist.profile_image %}
                <img src="{{ artist.profile_image.url }}" alt="Artist Image">
            {% else %}
                <img src="{% static 'images/default-avatar.png' %}" alt="Artist Image">
            {% endif %}

            <h2>{{ artist.first_name }} {{ artist.last_name }}</h2>
            <p><strong>Email:</strong> {{ artist.email }}</p>
            <p><strong>Phone:</strong> {{ artist.phone }}</p> <!-- ‚úÖ Display phone -->
            <p><strong>City:</strong> {{ artist.city }}</p>
            <p><strong>Experience:</strong> {{ artist.experience_years }} years</p>
            <p><strong>Works At:</strong> {{ artist.works_at }}</p>

            <button onclick="window.location.href='{% url 'book_artist' artist.id %}'">Book Now</button>
           
        </div>

        <!-- ‚úÖ Training & Certificates Section -->
        <!-- ‚úÖ Training & Certificates Section -->
<!-- ‚úÖ Training & Certificates Section -->
<div class="training-section">
    <h3>Training & Certificates</h3>
    {% if artist.training_certificate %}
        <p><strong>Certificate:</strong></p>
        
        <!-- ‚úÖ Display Image if it's an Image -->
        {% if artist.training_certificate.url|lower|slice:'-4:' == ".jpg" or artist.training_certificate.url|lower|slice:'-4:' == ".png" %}
            <div class="certificate-preview">
                <img src="{{ artist.training_certificate.url }}" alt="Certificate" class="certificate-image">
            </div>
        {% else %}
            <!-- ‚úÖ Display PDF in iframe -->
            <div class="certificate-preview">
                <iframe src="{{ artist.training_certificate.url }}" width="100%" height="300px"></iframe>
            </div>
        {% endif %}
        
        <p><a href="{{ artist.training_certificate.url }}" download class="download-btn">Download Certificate</a></p>  
    {% else %}
        <p>No certificates available.</p>
    {% endif %}
</div>


        <!-- ‚úÖ Artist Work Section -->
        <div class="work-section">
            <h3>Work Showcase</h3>
            <div class="work-gallery">
                {% for work in works %}
                    <div class="work-card">
                        <img src="{{ work.image.url }}" alt="{{ work.title }}">
                        <h4>{{ work.title }}</h4>
                        <p>{{ work.description }}</p>
                    </div>
                {% empty %}
                    <p>No work uploaded yet.</p>
                {% endfor %}
            </div>
        </div>
    </div>

    <script>
        function bookArtist(artistId) {
            alert("Booking artist ID: " + artistId);
        }
        function chatWithArtist(artistId) {
            alert("Starting chat with artist ID: " + artistId);
        }
        
document.addEventListener("DOMContentLoaded", function () {
    const darkModeToggle = document.getElementById("dark-mode-toggle");
    const body = document.body;

    // ‚úÖ Check if dark mode is enabled in localStorage
    if (localStorage.getItem("darkMode") === "enabled") {
        body.classList.add("dark-mode");
        darkModeToggle.textContent = "‚òÄ Light Mode";
    }

    // ‚úÖ Toggle Dark Mode
    darkModeToggle.addEventListener("click", function () {
        body.classList.toggle("dark-mode");

        // ‚úÖ Save the preference in localStorage
        if (body.classList.contains("dark-mode")) {
            localStorage.setItem("darkMode", "enabled");
            darkModeToggle.textContent = "‚òÄ Light Mode";
        } else {
            localStorage.setItem("darkMode", "disabled");
            darkModeToggle.textContent = "üåô Dark Mode";
        }
    });
});


    </script>
</body>
</html>
